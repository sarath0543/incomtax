<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<style>
    .input1{
  width: 25%;
  padding: 10px 20px;
  margin: 5px 0;
  box-sizing: border-box;
  border-radius: 15px;
  font-size:24px;
  text-align: center;
}
.button1{
    background-color: greenyellow; /* Green */
    border: none;
    color: black;
    padding: 15px 32px;
    text-align: center;
    text-decoration: none;
    display: inline-block;
    font-size: 16px;
    margin: 4px 2px;
    cursor: pointer;
    border-radius: 4px;
    text-align: center;
}

.button1:hover {
    background-color: #4640E9;
}

.h22 {
    font-family: 'Arial', sans-serif;
    color: #2c3e50;      
}
</style>

<body>
    
    <div class="form-floating mb-3 center p-3 h22">

        <input type="number" class="form-control p-2 input1" id="oldTaxIncome" placeholder="Enter your income here" required>
        <br />
        <input type="number" class="form-control p-2 input1" id="newTaxIncome" placeholder="Enter your income here" required>
        <br />
        <button class="btn btn-outline-success button1" onclick="incomeOld() , incomeNew() ">click here</button>
    
        <p class="fs-5 fw-bold mb-3">
            <div class="result" id="resultOld"></div>
        </p>
        <p class="fs-5 fw-bold mb-3">
            <div class="result" id="resultNew"></div>
        </p>
        <hr class="my-4">
    </div>
    <div class="">
        <table style="border:1px solid black; margin: 20px ;">
            <td>
                <p style="text-align: center;">incom tax old regime</p>
                <p>0 - 250000  tax : NILL</p>
                <p>250001 - 500000   tax : 5% of income exceeding 250000</p>
                <p>500001 - 1000000  tax : 12500+20% of income exceeding 500000</p>
                <p> above 1000001    tax : 112500+30% of income exceeding 1000000</p>
            </td>
        </table>

        <table style="border:1px solid black; margin: 20px ;">
            <td>
                <p style="text-align: center;">incom tax old regime</p>
                <p>0 - 300000  tax : NILL</p>
                <p>300001 - 700000   tax : 5% of income exceeding 300000</p>
                <p>700001 - 1000000  tax : 20000+10% of income exceeding 700000</p>
                <p>1000001 - 1200001 tax : 50000+15% of income exceeding 1000000</p>
                <p>1200001 - 1500001 tax : 80000+20% of income exceeding 1200000</p>
                <p> above   1500001    tax : 140000+30% of income exceeding 1500000</p>
            </td>
        </table>
       
    </div>
                           
</body>
<script>
    // Centralized tax calculation function
function calculateTax(income, slabs) {
    if (isNaN(income) || income <= 0) {
        return "Please enter a valid positive income.";
    }

    let tax = 0;
    let previousLimit = 0;

    for (let { limit, rate } of slabs) {
        if (income > previousLimit) {
            let taxableAmount = Math.min(income - previousLimit, limit - previousLimit);
            tax += taxableAmount * rate;
            previousLimit = limit;
        } else {
            break;
        }
    }
    var  finalTax = Math.round(parseFloat(tax) + parseFloat(tax*0.04));
    return "â‚¹ " + finalTax ;
}

// Function for old tax calculation
function incomeOld() {
    let income = parseFloat(document.getElementById("oldTaxIncome").value);
    let slabs = [
        { limit: 250000, rate: 0 },
        { limit: 500000, rate: 0.05 },
        { limit: 1000000, rate: 0.20 },
        { limit: Infinity, rate: 0.30 }
    ];
    if(income>500000)        
        document.getElementById("resultOld").innerHTML = "Your Income old Tax: " + calculateTax(income, slabs);
        else
        document.getElementById("resultOld").innerHTML = "Your Income old Tax: " + calculateTax(income-income+1, slabs);
}

// Function for new tax calculation
function incomeNew() {
    let income = parseFloat(document.getElementById("newTaxIncome").value);
   
    let slabs = [
        { limit: 300000, rate: 0 },
        { limit: 700000, rate: 0.05 },
        { limit: 1000000, rate: 0.10 },
        { limit: 1200000, rate: 0.15 },
        { limit: 1500000, rate: 0.20 },
        { limit: Infinity, rate: 0.30 }
    ];
   
    if(income>700000)    
    document.getElementById("resultNew").innerHTML = "Your Income new Tax: " + calculateTax(income, slabs);
    else
    document.getElementById("resultNew").innerHTML = "Your Income new Tax: " + calculateTax(income-income+1, slabs);
}

document.addEventListener('contextmenu', event => event.preventDefault());
</script>

</html>
